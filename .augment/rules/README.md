---
type: "always_apply"
---

# AuroraView DCC Shelves - æœ€ä½³å®è·µä¸ç»éªŒæ²‰æ·€

æœ¬ç›®å½•åŒ…å« AuroraView DCC Shelves é¡¹ç›®çš„æœ€ä½³å®è·µã€ç»éªŒæ•™è®­å’Œæ¡ˆä¾‹ç ”ç©¶ã€‚

---

## ğŸ“š æ–‡æ¡£ç´¢å¼•

### 1. [WebView Integration Best Practices](./webview-integration-best-practices.md)
**WebView é›†æˆæœ€ä½³å®è·µ**

- **é€‚ç”¨åœºæ™¯**: DCC åº”ç”¨ä¸­çš„ WebView UI å†»ç»“é—®é¢˜
- **æ ¸å¿ƒå†…å®¹**:
  - é‡å¤å¼‚æ­¥æ“ä½œçš„åæ¨¡å¼
  - çŠ¶æ€æ ‡å¿—é˜²æŠ¤æœºåˆ¶
  - é€æ­¥éš”ç¦»è¯Šæ–­æ–¹æ³•
  - äº‹ä»¶é©±åŠ¨ vs å®šæ—¶é‡è¯•
- **å…³é”®åŸåˆ™**:
  - å¼‚æ­¥æ“ä½œå¿…é¡»æœ‰é˜²æŠ¤æœºåˆ¶
  - é¿å…ç›²ç›®çš„é‡è¯•ç­–ç•¥
  - ä½¿ç”¨äº‹ä»¶é©±åŠ¨è€Œéå®šæ—¶é‡è¯•
  - æ—¥å¿—è®°å½•å…³é”®çŠ¶æ€

---

### 2. [Case Study: Maya UI Freeze Fix](./case-study-maya-ui-freeze-fix.md)
**æ¡ˆä¾‹ç ”ç©¶ï¼šMaya UI å†»ç»“é—®é¢˜ä¿®å¤**

- **é—®é¢˜**: DCC Shelves åœ¨ Maya ä¸­å¯åŠ¨å UI å®Œå…¨å†»ç»“
- **è¯Šæ–­è¿‡ç¨‹**:
  1. éªŒè¯åŸºç¡€åŠŸèƒ½ âœ…
  2. é€æ­¥éš”ç¦»æµ‹è¯• âœ…
  3. æµ‹è¯•å®é™…å‰ç«¯åŠ è½½ âœ…
  4. ä»£ç å®¡æŸ¥å‘ç°æ ¹æœ¬åŸå›  âœ…
- **æ ¹æœ¬åŸå› **: `_schedule_api_registration()` è°ƒç”¨äº† 4 æ¬¡ API æ³¨å†Œ
- **è§£å†³æ–¹æ¡ˆ**:
  - æ·»åŠ  `_api_registered` çŠ¶æ€æ ‡å¿—
  - åœ¨ `_register_api_after_load` ä¸­æ·»åŠ é˜²æŠ¤
  - ç®€åŒ– `_schedule_api_registration` åªè°ƒç”¨ä¸€æ¬¡
- **ä¿®å¤æ•ˆæœ**:
  - API æ³¨å†Œä» 4 æ¬¡å‡å°‘åˆ° 1 æ¬¡
  - Maya UI ä»å†»ç»“å˜ä¸ºæµç•…å“åº”

---

### 3. [Quick Reference: Async Operations](./quick-reference-async-operations.md)
**å¿«é€Ÿå‚è€ƒï¼šå¼‚æ­¥æ“ä½œæœ€ä½³å®è·µ**

- **æ ¸å¿ƒæ¨¡å¼**:
  1. **çŠ¶æ€æ ‡å¿—æ¨¡å¼** - é˜²æ­¢é‡å¤æ‰§è¡Œ
  2. **äº‹ä»¶é©±åŠ¨æ¨¡å¼** - æ›¿ä»£å®šæ—¶è½®è¯¢
  3. **å•æ¬¡å»¶è¿Ÿæ¨¡å¼** - é¿å…å¤šæ¬¡é‡è¯•
- **å¸¸è§åæ¨¡å¼**:
  - âŒ æ— é˜²æŠ¤çš„é‡å¤è°ƒç”¨
  - âŒ ç›²ç›®çš„é‡è¯•å¾ªç¯
  - âŒ ç¼ºå°‘çŠ¶æ€è·Ÿè¸ª
- **è¯Šæ–­å·¥å…·æ¨¡æ¿**:
  - é€æ­¥æµ‹è¯•æ¨¡æ¿
  - çŠ¶æ€æ£€æŸ¥æ¨¡æ¿
- **æ£€æŸ¥æ¸…å•**:
  - è®¾è®¡é˜¶æ®µ
  - å®ç°é˜¶æ®µ
  - æµ‹è¯•é˜¶æ®µ
  - è°ƒè¯•é˜¶æ®µ

---

### 4. [Optimization Opportunities](./optimization-opportunities.md)
**ä¼˜åŒ–æœºä¼šæ¸…å•**

- **åŸºäºç»éªŒçš„ä¼˜åŒ–å»ºè®®**:
  1. âœ… **Geometry Fix é‡å¤è°ƒç”¨** - æ·»åŠ çŠ¶æ€æ ‡å¿—ï¼ˆå·²å®Œæˆï¼‰
  2. âœ… **ä½¿ç”¨ loadFinished ä¿¡å·** - äº‹ä»¶é©±åŠ¨æ›¿ä»£å®šæ—¶å™¨ï¼ˆå·²å®Œæˆï¼‰
  3. **Deferred Init Chain** ğŸ’¡ - ç®€åŒ–å›è°ƒé“¾
  4. **è‡ªé€‚åº” Timer Interval** ğŸ¯ - åŠ¨æ€è°ƒæ•´é¢‘ç‡
  5. **æ‰¹é‡æ“ä½œåˆå¹¶** ğŸ”„ - å‡å°‘ IPC æ¶ˆæ¯
- **ä¼˜å…ˆçº§æ’åº**:
  - ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼šé˜²æ­¢ UI å†»ç»“ï¼ˆå·²å®Œæˆ 2/2ï¼‰
  - ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼šæé«˜å¯ç»´æŠ¤æ€§
  - ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼šæ€§èƒ½ä¼˜åŒ–

---

### 5. [Optimization Changelog](./OPTIMIZATION_CHANGELOG.md)
**ä¼˜åŒ–å˜æ›´æ—¥å¿—**

- **2025-12-05 å®æ–½çš„ä¼˜åŒ–**:
  1. âœ… Geometry Fix çŠ¶æ€æ ‡å¿— - é˜²æ­¢é‡å¤ UI é‡ç»˜
  2. âœ… loadFinished ä¿¡å· - äº‹ä»¶é©±åŠ¨ API æ³¨å†Œ
- **æ•ˆæœå¯¹æ¯”**:
  - Geometry Fix: 4 æ¬¡ â†’ 1 æ¬¡
  - API è§¦å‘: å®šæ—¶å™¨ â†’ ä¿¡å·é©±åŠ¨
- **æ ¸å¿ƒæ¨¡å¼åº”ç”¨**:
  - çŠ¶æ€æ ‡å¿—æ¨¡å¼
  - äº‹ä»¶é©±åŠ¨æ¨¡å¼

---

## ğŸ¯ å¿«é€ŸæŸ¥æ‰¾

### é‡åˆ° UI å†»ç»“é—®é¢˜ï¼Ÿ
â†’ æŸ¥çœ‹ [WebView Integration Best Practices](./webview-integration-best-practices.md)

### éœ€è¦è¯Šæ–­å¼‚æ­¥æ“ä½œé—®é¢˜ï¼Ÿ
â†’ æŸ¥çœ‹ [Quick Reference: Async Operations](./quick-reference-async-operations.md)

### æƒ³äº†è§£å®Œæ•´çš„é—®é¢˜è§£å†³è¿‡ç¨‹ï¼Ÿ
â†’ æŸ¥çœ‹ [Case Study: Maya UI Freeze Fix](./case-study-maya-ui-freeze-fix.md)

### æƒ³çŸ¥é“è¿˜æœ‰å“ªäº›å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Ÿ
â†’ æŸ¥çœ‹ [Optimization Opportunities](./optimization-opportunities.md)

### æƒ³äº†è§£å·²å®æ–½çš„ä¼˜åŒ–ï¼Ÿ
â†’ æŸ¥çœ‹ [Optimization Changelog](./OPTIMIZATION_CHANGELOG.md)

---

## ğŸ”§ å¸¸ç”¨ä»£ç ç‰‡æ®µ

### çŠ¶æ€æ ‡å¿—æ¨¡å¼

```python
class MyClass:
    def __init__(self):
        self._operation_done = False

    def async_operation(self):
        if self._operation_done:
            logger.debug("Operation already done, skipping")
            return

        self._operation_done = True
        logger.info("Starting operation (first time)")
        self._do_work()
```

### äº‹ä»¶é©±åŠ¨æ¨¡å¼

```python
# âœ… æ­£ç¡®ï¼šä½¿ç”¨ä¿¡å·
webview.loadFinished.connect(self._on_ready)

# âŒ é”™è¯¯ï¼šå®šæ—¶è½®è¯¢
QTimer.singleShot(500, self._check_if_ready)
```

### é€æ­¥è¯Šæ–­æ¨¡æ¿

```python
def step1():
    logger.info("Step 1: Create component")
    # ... åˆ›å»ºç»„ä»¶
    QTimer.singleShot(2000, step2)

def step2():
    logger.info("Step 2: Initialize")
    # ... åˆå§‹åŒ–
    QTimer.singleShot(2000, step3)

# å¯åŠ¨
QTimer.singleShot(1000, step1)
```

---

## ğŸ“ è´¡çŒ®æŒ‡å—

å½“ä½ è§£å†³äº†ä¸€ä¸ªé‡è¦é—®é¢˜æˆ–å‘ç°äº†æ–°çš„æœ€ä½³å®è·µæ—¶ï¼Œè¯·ï¼š

1. **åˆ›å»ºæ¡ˆä¾‹ç ”ç©¶æ–‡æ¡£** (å¦‚æœæ˜¯é‡å¤§é—®é¢˜)
   - é—®é¢˜æè¿°
   - è¯Šæ–­è¿‡ç¨‹
   - è§£å†³æ–¹æ¡ˆ
   - ç»éªŒæ•™è®­

2. **æ›´æ–°æœ€ä½³å®è·µæ–‡æ¡£** (å¦‚æœå‘ç°æ–°æ¨¡å¼)
   - æ·»åŠ æ–°çš„æ¨¡å¼æˆ–åæ¨¡å¼
   - æä¾›ä»£ç ç¤ºä¾‹
   - è¯´æ˜é€‚ç”¨åœºæ™¯

3. **æ›´æ–°å¿«é€Ÿå‚è€ƒ** (å¦‚æœæ˜¯å¸¸ç”¨æŠ€å·§)
   - æ·»åŠ ä»£ç ç‰‡æ®µ
   - æ›´æ–°æ£€æŸ¥æ¸…å•
   - è¡¥å……è¯Šæ–­å·¥å…·

4. **æ›´æ–°æœ¬ README** (æ·»åŠ æ–°æ–‡æ¡£å)
   - åœ¨ç´¢å¼•ä¸­æ·»åŠ æ–°æ–‡æ¡£
   - æ›´æ–°å¿«é€ŸæŸ¥æ‰¾éƒ¨åˆ†
   - æ·»åŠ ç›¸å…³ä»£ç ç‰‡æ®µ

---

## ğŸ·ï¸ æ ‡ç­¾ç³»ç»Ÿ

- `#ui-freeze` - UI å†»ç»“é—®é¢˜
- `#async-operations` - å¼‚æ­¥æ“ä½œ
- `#state-management` - çŠ¶æ€ç®¡ç†
- `#event-driven` - äº‹ä»¶é©±åŠ¨
- `#diagnostic` - è¯Šæ–­æ–¹æ³•
- `#performance` - æ€§èƒ½ä¼˜åŒ–
- `#dcc-integration` - DCC é›†æˆ

---

**æœ€åæ›´æ–°**: 2025-12-05
**ç»´æŠ¤è€…**: AuroraView Team
